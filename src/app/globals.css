@import "tailwindcss";

/* ---------------------------
   Color tokens (light / dark)
---------------------------- */
/* LIGHT */
:root {
  --surface: #ffffff;
  --text:    #111111;
  --surface-strong: #0b0b0b;
  --text-on-strong: #f5f5f5;
  --muted:  #9E9E9E;
  --card:   #F5F5F5;
  --accent: #6DA9E4;
  color-scheme: light;

  --bg: var(--surface);
  --fg: var(--text);
}

/* DARK – vale per entrambi i metodi */
html[data-theme="dark"],
html.dark {
  --surface: #0b0b0b;
  --text:    #f5f5f5;
  --surface-strong: #111111;
  --text-on-strong: #eaeaea;
  color-scheme: dark;

  --bg: var(--surface);
  --fg: var(--text);
}

/* Tailwind v4 tokens (facoltativi ma consigliati) */
@theme {
  --color-background: #FAFAFA;
  --color-surface:    #F5F5F5;
  --color-dark:       #111111;

  --color-gray-100: #F5F5F5;
  --color-gray-200: #E5E5E5;
  --color-gray-400: #9E9E9E;
  --color-gray-600: #666666;
  --color-gray-800: #222222;

  --color-accent: #6DA9E4;
}

/* Classe .dark (Tailwind) – resta come fallback/compat, ma i token prendono da data-theme */
.dark {
  --bg: #0B0B0B;
  --fg: #FAFAFA;
  --muted: #9E9E9E;
  --card: #121212;
  --accent: #8BBCFF;
  color-scheme: dark;
}
/* ---------------------------
   Typography
---------------------------- */
:root {
  --font-martian: 'Martian Mono', ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
  --font-inter: 'Inter', ui-serif, Georgia, serif;
}

html, body {
  height: 100%;
}

body {
  background: var(--bg);
  color: var(--fg);
  font-family: var(--font-inter);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  transition: background-color 0.4s ease, color 0.4s ease;
}

h1, h2, h3, h4 {
  font-family: var(--font-martian);
  letter-spacing: -0.02em;
}

.bg-card, .card, header, footer, section {
  transition: background-color 0.4s ease, border-color 0.4s ease, color 0.4s ease;
}

#theme-overlay {
  background: var(--bg);
}

/* Utility helpers (facoltative) */
.text-muted { color: var(--muted); }
.bg-card { background: var(--card); }
.text-accent { color: var(--accent); }
.border-accent { border-color: var(--accent); }

/* Lenis base styles */
html.lenis {
  height: auto;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}
.lenis.lenis-stopped {
  overflow: hidden;
}
.lenis.lenis-scrolling iframe {
  pointer-events: none;
}

/* evita smooth CSS che litiga con Lenis */
html { scroll-behavior: auto !important; }

/* micro-ottimizzazioni GPU */
.hs-track { will-change: transform; transform: translate3d(0,0,0); }
.hs-card  { backface-visibility: hidden; transform: translateZ(0); }
/* --- View Transitions nativi --- */
html { view-transition-name: root; }

::view-transition-old(root) {
  animation: vt-fade-out 500ms ease both;
  filter: blur(2px) saturate(0.9);
  transform: scale(0.995);
}
::view-transition-new(root) {
  animation: vt-fade-in 600ms ease both 150ms;
}
@keyframes vt-fade-out { from {opacity:1} to {opacity:.4} }
@keyframes vt-fade-in  { from {opacity:0} to {opacity:1} }

/* escludi header/footer/overlay dalla snapshot */
.vt-static { view-transition-name: none; }

/* styles/global.css o TopBar.module.css */
.topbar-title {
  color: white;
  mix-blend-mode: difference;
  transition: color 0.3s ease;
}